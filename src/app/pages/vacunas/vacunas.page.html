<ion-content fullscreen="true" class="onboard-content">
  <div class="viewport">
    <!-- Header -->
    <div class="header-bar">
      <ion-buttons slot="start">
        <ion-back-button defaultHref="/" text="" icon="chevron-back-outline"></ion-back-button>
      </ion-buttons>

      <h1 class="title">Vacunas</h1>

      <ion-buttons slot="end">
        <ion-button class="audio-btn" aria-label="Audio" (click)="speakCard()">
          <ion-icon name="volume-high-outline"></ion-icon>
        </ion-button>
      </ion-buttons>
    </div>

    <!-- Descripci贸n -->
    <div class="dashed-card">
      <p class="hello"> 隆{{petName}} necesita sus vacunas!</p>
      <p class="note">
        Marca cu谩l fue la vacuna que recibi贸, la fecha en que se la pusieron y el d铆a de su refuerzo.
      </p>
    </div>

    <div class="section-title">Historial de Vacunaci贸n</div>

    <!-- Lista de vacunas -->
    <div
      *ngFor="let v of vaccineList; let i = index"
      class="form-dashed"
      [ngClass]="{ saved: v.saved, 'highlight-saved': v.justSaved }"
    >
      <!-- Tipo de vacuna -->
      <div class="field-group">
        <label class="field-label">Tipo de vacuna</label>
        <ion-select
          interface="popover"
          placeholder="Elige la vacuna"
          [(ngModel)]="v.tipo"
          [disabled]="!!v.saved"
          class="field-select"
        >
          <ion-select-option *ngFor="let tipo of vacunas" [value]="tipo">{{ tipo }}</ion-select-option>
        </ion-select>
      </div>

      <!-- Fechas -->
      <div class="row-2">
        <div class="field-group">
          <label class="field-label">Fecha de vacunaci贸n</label>
          <ion-input
            type="date"
            [(ngModel)]="v.fechaVacunacion"
            [disabled]="!!v.saved"
            class="field-input"
          ></ion-input>
        </div>

        <div class="field-group">
          <label class="field-label">Fecha de refuerzo</label>
          <ion-input
            type="date"
            [(ngModel)]="v.fechaRefuerzo"
            [disabled]="!!v.saved"
            class="field-input"
          ></ion-input>
        </div>
      </div>

      <!-- Bot贸n guardar -->
      <div class="save-wrap" *ngIf="!v.saved">
        <ion-button class="save-btn" color="success" shape="round" (click)="saveVaccine(v, i)">
          <ion-icon slot="start" name="save-outline"></ion-icon>
          Guardar
        </ion-button>
      </div>
    </div>

    <!-- Bot贸n flotante + -->
    <button class="fab-add" type="button" aria-label="Agregar vacuna" (click)="addRecord()">
      <ion-icon name="add-outline"></ion-icon>
    </button>
  </div>
</ion-content>
